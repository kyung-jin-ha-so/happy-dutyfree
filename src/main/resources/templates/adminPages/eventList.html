<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <style>
        .container-01 {
            width: 900px;
        }

        .container-02 {
            width: 100%;
            margin-top: 50px;
        }

        .event-title {
            font-weight: 600;
            font-size: 1.3rem
        }

        table {
            width: 100%;
            border-top: 1px solid #444444;
            border-collapse: collapse;
        }

        th {
            border-bottom: 1px solid #444444;
            padding: 10px;
            text-align: center;
            background-color: lightgray;
        }

        td {
            border-bottom: 1px solid #444444;
            padding: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
<div class="container-01">
    <div class="event-title">
        <span>이벤트 게시판 관리</span>
        <span> > </span>
        <span>이벤트 목록 조회</span>
    </div>
    <div class="container-02">
        <table>
            <tr>
                <th>이벤트 번호</th>
                <th>이벤트 제목</th>
                <th>이벤트 등록일</th>
                <th>쿠폰이름</th>
                <th>쿠폰금액</th>
                <th>수정</th>
                <th>삭제</th>
            </tr>
            <tr th:each="event: ${eventList}">
                <td th:text="${event.eventId}"></td>
                <td>
                    <a th:href="@{|/event/${event.eventId}(couponName=${event.couponEntity.couponName},couponId=${event.couponEntity.couponId})}"
                       th:text="${event.eventTitle}"></a></td>
                <td th:text="*{#temporals.format(event.eventCreatedDate, 'yy-MM-dd HH:mm')}"></td>
                <td th:text="${event.couponEntity.couponName}" id="birth"></td>
                <td th:text="${#numbers.formatInteger(event.couponEntity.couponValue, 3, 'COMMA')}"></td>
                <td><button type="button" th:onclick="eventUpdate([[${event.eventId}]])">수정</button></td>
                <td><button type="button" th:onclick="eventDelete([[${event.eventId}]])">삭제</button></td>
            </tr>
        </table>
    </div>
</div>
</body>
<script th:inline="javascript" th:each="event: ${eventList}">
    const eventDelete = (eventId) => {
        location.href = "/event/delete/" + eventId;
    }
    const eventUpdate = (eventId) => {
        location.href = "/event/update/" + eventId;
    }
</script>
</html>